<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Rational Greed v5.0 - The Command Center</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Noto Sans JP', sans-serif; background-color: #f8fafc; color: #0f172a; }
    .mono { font-family: 'Roboto Mono', monospace; }
    .card { background-color: white; border: 1px solid #e2e8f0; }
    .input-light { background-color: white; border-color: #cbd5e1; color: #0f172a; }
    .input-light:focus { border-color: #6366f1; }
    .warning-blink { animation: blink 1s infinite; }
    @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
</style>
</head>
<body class="pb-10 p-2 md:p-6">

<div class="max-w-4xl mx-auto space-y-6">

    <!-- 1. æˆ¦ç•¥æ†²æ³• v5.0 -->
    <div class="bg-indigo-50 border-l-4 border-indigo-600 p-4 rounded shadow-md">
        <div class="flex justify-between items-start">
            <div>
                <h1 class="text-xl font-bold text-indigo-800 mb-1 underline decoration-emerald-400">Rational Greed v5.0</h1>
                <p class="text-xs text-indigo-600 font-bold">å“²å­¦ï¼šå¾…æ©Ÿã§æ©Ÿä¼šã‚’è²·ã„ã€éœ€çµ¦ã§åˆ©ç›Šã‚’å–ã‚‹</p>
            </div>
            <div id="fomo-alert" class="hidden bg-rose-100 text-rose-700 text-[10px] font-bold px-3 py-1 rounded-full warning-blink">
                âš ï¸ éç†±è­¦å‘Šï¼šãã‚Œã¯å¼·æ¬²ã‹ã€ç†æ€§ã‹ï¼Ÿ
            </div>
        </div>
        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div class="bg-white/80 p-3 rounded border border-indigo-100">
                <p class="text-emerald-700 font-bold text-[10px] mb-1">ğŸ›¡ï¸ DEEPSEEK RATIONALITY</p>
                <p class="text-[11px] text-slate-600">ç¾é‡‘æ¯”ç‡ 35% æ­»å®ˆã€‚RSI 70ä»¥ä¸Šã¯é™è¦³ã€‚</p>
            </div>
            <div class="bg-white/80 p-3 rounded border border-indigo-100">
                <p class="text-indigo-700 font-bold text-[10px] mb-1">âš”ï¸ GROK INTUITION</p>
                <p class="text-[11px] text-slate-600">AIãƒ»Silverã®å®Ÿéœ€ã‚’è¿½ãˆã€‚èª¿æ•´å¾Œã® RSI 40 ãŒç‹©ã‚Šå ´ã€‚</p>
            </div>
        </div>
    </div>

    <!-- 2. è¨ˆç®—æ©Ÿ -->
    <div class="card rounded-xl overflow-hidden shadow-lg">
        <div class="p-4 bg-slate-50 border-b flex justify-between items-center">
            <h2 class="text-lg font-bold text-slate-800">ğŸ¯ è³‡é‡‘ç®¡ç†ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼</h2>
            <div class="flex items-center gap-2">
                <span class="text-xs font-bold text-slate-500">éœ€çµ¦çˆ†ç™ºãƒ¢ãƒ¼ãƒ‰</span>
                <input type="checkbox" id="demand-mode" onchange="toggleDemandMode()" class="w-5 h-5 accent-indigo-600">
            </div>
        </div>

        <div class="p-5 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">çŸ­æœŸç‹©ã‚ŠåŸè³‡ (å††)</label>
                    <input type="tel" id="capital" value="1,000,000" class="input-light mono w-full p-3 rounded-lg text-right font-bold text-lg border">
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">ç›®æ¨™åˆ©å¹… (%)</label>
                    <input type="number" id="profitRate" value="3.5" step="0.1" oninput="checkFomo()" class="input-light mono w-full p-3 rounded-lg text-right font-bold text-lg border">
                </div>
            </div>

            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-slate-700">
                    <thead class="text-xs text-slate-500 uppercase bg-slate-50">
                        <tr>
                            <th class="p-3 text-center">ç‰</th>
                            <th class="p-3 text-center">é…åˆ†</th>
                            <th class="p-3 text-right">åˆ©ç›Šé¡</th>
                            <th class="p-3 w-20 text-center">å›æ•°</th>
                        </tr>
                    </thead>
                    <tbody id="table-body" class="divide-y divide-slate-100"></tbody>
                </table>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t">
                <div class="bg-indigo-50 p-4 rounded-xl text-center border border-indigo-100">
                    <p class="text-[10px] text-indigo-400 font-bold uppercase">Expected Monthly Profit</p>
                    <p class="mono text-3xl font-bold text-indigo-700" id="gross-profit">---</p>
                </div>
                <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-200">
                    <p class="text-[10px] text-slate-400 font-bold uppercase">Risk Profile</p>
                    <p class="text-xs font-bold text-slate-600 mt-1" id="risk-status">Normal</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const allocations = [2, 3, 5, 7, 8, 10, 12, 15, 18, 20];
    
    function init() {
        renderTable();
        calculate();
    }

    function renderTable() {
        const tbody = document.getElementById('table-body');
        tbody.innerHTML = allocations.map((rate, i) => `
            <tr class="hover:bg-slate-50">
                <td class="p-3 text-center mono font-bold">${i + 1}</td>
                <td class="p-3 text-center mono text-xs">${rate}%</td>
                <td class="p-3 text-right mono text-emerald-600" id="win-profit-${i}">-</td>
                <td class="p-3 text-center">
                    <input type="number" id="win-input-${i}" value="${i < 2 ? 2-i : 0}" class="input-light mono w-12 p-1 rounded text-center border text-sm" onchange="calculate()">
                </td>
            </tr>
        `).join('');
    }

    function toggleDemandMode() {
        const isDemand = document.getElementById('demand-mode').checked;
        if (isDemand) {
            document.getElementById('win-input-0').value = 4;
            document.getElementById('win-input-1').value = 2;
        } else {
            document.getElementById('win-input-0').value = 2;
            document.getElementById('win-input-1').value = 1;
        }
        calculate();
    }

    function checkFomo() {
        const rate = Number(document.getElementById('profitRate').value);
        const alert = document.getElementById('fomo-alert');
        if (rate > 7) {
            alert.classList.remove('hidden');
        } else {
            alert.classList.add('hidden');
        }
        calculate();
    }

    function calculate() {
        const capital = Number(document.getElementById('capital').value.replace(/,/g, ''));
        const profitRate = Number(document.getElementById('profitRate').value) / 100;
        let total = 0;
        let activeExposure = 0;

        allocations.forEach((rate, i) => {
            const profit = (capital * (rate / 100)) * profitRate;
            document.getElementById(`win-profit-${i}`).textContent = '+' + Math.floor(profit).toLocaleString();
            const count = Number(document.getElementById(`win-input-${i}`).value);
            total += profit * count;
            activeExposure += (capital * (rate / 100)) * count;
        });

        document.getElementById('gross-profit').textContent = '+' + Math.floor(total).toLocaleString() + ' å††';
        
        const riskStatus = document.getElementById('risk-status');
        if (activeExposure > capital * 0.5) {
            riskStatus.textContent = 'âš ï¸ OVER EXPOSURE';
            riskStatus.className = 'text-xs font-bold text-rose-600 mt-1';
        } else {
            riskStatus.textContent = 'ğŸ›¡ï¸ STABLE';
            riskStatus.className = 'text-xs font-bold text-emerald-600 mt-1';
        }
    }

    window.onload = init;
</script>
</body>
</html>
